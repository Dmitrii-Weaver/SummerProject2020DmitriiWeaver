<!DOCTYPE html>

<head>

</head>

<body>
    <canvas width="400" height="400"></canvas>
    <script>
        let cx = document.querySelector("canvas").getContext("2d");



        let lastTime = null;
        function frame(time) {
            if (lastTime != null) {
                updateAnimation(Math.min(100, time - lastTime) / 1000);
            }
            lastTime = time;
            requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);

        class Vec {
            constructor(x, y) {
                this.x = x; this.y = y;
            }
            plus(other) {
                return new Vec(this.x + other.x, this.y + other.y);
            }
            times(factor) {
                return new Vec(this.x * factor, this.y * factor);
            }
        }

        let x = 50
        let y = 50
        let x_speed = 125
        let y_speed = 125

        cx.strokeRect(10, 10, 200, 250)


        function updateAnimation(step) {
            cx.clearRect(11, 11, 199, 249)
            if (x < 21 || x > 199) x_speed = -x_speed;
            if (y < 21 || y > 249   ) y_speed = -y_speed;
            x += step * x_speed
            y += step * y_speed
            cx.beginPath()
            cx.arc(x, y, 10, 0, 7)
            cx.fillStyle = "red"
            cx.fill()
        }
    </script>

</body>